<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>
		Music
	</title>
	<link rel="stylesheet" href="../static/layui/css/layui.css">
	<style type="text/css">
		#logo_img {
			margin-top: -20px;
			transform: scale(0.2);
			margin-left: -70px;
		}

		.login_name {
			color: red;
			margin-left: 80px;
			padding-top: 10px;
		}
	</style>
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
	<div class="layui-header">
		<div class="layui-logo" id="logo_img">
			<input type="image" src="../static/img/login.ico" />
		</div>
		<div class="login_name">
			<h1>嘤嘤音乐 </h1>
		</div>

		<ul class="layui-nav layui-layout-right">
			<li class="layui-nav-item">
				<a href="javascript:;">
					<img src="https://dwz.cn/e1rGjIsC" class="layui-nav-img" id="current_admin">
					嘤嘤
				</a>
				<dl class="layui-nav-child">
					<dd><a href="">基本资料</a></dd>
					<dd><a href="">安全设置</a></dd>
				</dl>
			</li>
			<li class="layui-nav-item"><a href="../admin?method=loginout">安全退出</a></li>
		</ul>
	</div>

	<div class="layui-side layui-bg-black">
		<div class="layui-side-scroll">
			<!-- 左侧垂直导航区域-->
			<ul class="layui-nav layui-nav-tree" lay-filter="test">
				<li class="layui-nav-item ">
					<a href="javascript:;" lay-tips="主页" > <i class="layui-icon layui-icon-home"></i> <cite>主页</cite>
						<span class="layui-nav-more"></span></a>
					<dl class="layui-nav-child">
						<dd>
							<a href="javascript:;" data-id="1" data-title="用户信息管理" data-url="userList.html" class="site-demo-active"
							   data-type="tabAdd">用户信息管理</a></dd>
						<dd>
							<a href="javascript:;" data-id="2" data-title="首页轮播图管理" data-url="banner.html" class="site-demo-active"
							   data-type="tabAdd">首页轮播图管理</a></dd>

					</dl>
				</li>

				<li class="layui-nav-item">
					<a href="javascript:;" lay-tips="歌曲"> <i class="layui-icon layui-icon-headset"></i> <cite>歌曲</cite>
						<span class="layui-nav-more"></span></a>
					<dl class="layui-nav-child">
						<dd>
							<a href="javascript:;" data-id="3" data-title="歌曲管理" data-url="song.html" class="site-demo-active" data-type="tabAdd">歌曲管理</a></dd>
						<dd>
							<a href="javascript:;" data-id="4" data-title="歌词管理" data-url="lyric.html" class="site-demo-active" data-type="tabAdd">歌词管理</a></dd>
						<dd>
							<a href="javascript:;" data-id="5" data-title="歌单管理" data-url="list.html" class="site-demo-active" data-type="tabAdd">歌单管理</a></dd>
					</dl>
				</li>

				<li class="layui-nav-item">
					<a href="javascript:;" lay-tips="专辑"> <i class="layui-icon layui-icon-picture"></i> <cite>专辑</cite>
						<span class="layui-nav-more"></span></a>
					<dl class="layui-nav-child">
						<dd>
							<a href="javascript:;" data-id="6" data-title="专辑管理" data-url="album.html" class="site-demo-active" data-type="tabAdd">专辑管理</a></dd>
					</dl>
				</li>


				<li class="layui-nav-item">
					<a href="javascript:;" lay-tips="歌手"> <i class="layui-icon layui-icon-user"></i> <cite>歌手</cite>
						<span class="layui-nav-more"></span></a>
					<dl class="layui-nav-child">
						<dd>
							<a href="javascript:;" data-id="7" data-title="歌手列表" data-url="singerList.html" class="site-demo-active" data-type="tabAdd">歌手管理</a></dd>
						<!--<dd>-->
					    	<!--<a href="javascript:;" data-id="72" data-title="添加歌手" data-url="addsinger.html" class="site-demo-active" data-type="tabAdd">歌单管理</a></dd>-->

					</dl>
				</li>


				<li class="layui-nav-item">
					<a href="javascript:;" lay-tips="排行"> <i class="layui-icon layui-icon-form"></i> <cite>排行</cite>
						<span class="layui-nav-more"></span></a>
					<dl class="layui-nav-child">
						<dd>
							<a href="javascript:;" data-id="8" data-title="排行管理" data-url="ph.html" class="site-demo-active" data-type="tabAdd">排行管理</a></dd>
					</dl>
				</li>

				<li class="layui-nav-item">
					<a href="javascript:;" lay-tips="分类"> <i class="layui-icon layui-icon-note"></i> <cite>分类</cite>
						<span class="layui-nav-more"></span></a>
					<dl class="layui-nav-child">
						<dd>
							<a href="javascript:;" data-id="9" data-title="分类管理" data-url="type.html" class="site-demo-active" data-type="tabAdd">分类管理</a></dd>
					</dl>
				</li>


				<li class="layui-nav-item">
					<a href="javascript:;" lay-tips="MV"> <i class="layui-icon layui-icon-video"></i> <cite>MV</cite>
						<span class="layui-nav-more"></span></a>
					<dl class="layui-nav-child">
						<dd>
							<a href="javascript:;" data-id="10" data-title="MV管理" data-url="mv.html" class="site-demo-active" data-type="tabAdd">MV管理</a></dd>
					</dl>
				</li>


				<li class="layui-nav-item">
					<a href="javascript:;" lay-tips="系统"> <i class="layui-icon layui-icon-set-sm"></i> <cite>系统</cite>
						<span class="layui-nav-more"></span></a>
					<dl class="layui-nav-child">
						<dd>
							<a href="javascript:;" data-id="11" data-title="修改密码" data-url="modiffile:///D:/培训/J1908/JavaWeb/JavaWeb/9月14日-后台/WebProject/baby/web/admin/main.htmlyAdmin.html"
							   class="site-demo-active" data-type="tabAdd">修改密码</a>
						</dd>
						<dd>
							<a href="../admin?method=loginout">安全退出</a>
						</dd>
					</dl>
				</li>
			</ul>
		</div>
	</div>


	<div class="layui-body" id="container">
		<div class="layui-tab" lay-filter="demo" id="demo" lay-allowClose="true">
			<ul class="layui-tab-title">
				<li class="layui-this">首页
			</ul>
			<div class="layui-tab-content">
				<div class="layui-tab-item layui-show">
					<div class="layui-col-md12">
						<div class="layui-card">
							<div class="layui-card-header">你好~</div>
							<div class="layui-card-body">
								欢迎使用嘤嘤音乐后台管理系统！祝您愉快！
							</div>
							<div style="padding: 20px; background-color: #F2F2F2;">
								<div class="layui-row layui-col-space15">
									<div class="layui-col-md6">
										<div class="layui-card">
											<div class="layui-card-header" style="font-size: large;">人数</div>
											<div class="layui-card-body">
												用户总数：9<br>
												在线人数：1
											</div>
										</div>
									</div>
									<div class="layui-col-md6">
										<div class="layui-card">
											<div class="layui-card-header" style="font-size: larger;">访问量</div>
											<div class="layui-card-body">
												总访问量：23<br>
												本周访问：6
											</div>
										</div>
									</div>

									<!-- <h1>activeSessions</h1>
                                    <h2><a href="CountServlet">点击查看访问量</a></h2> -->
									<!-- Copyright @2019-2020 嘤嘤音乐后台管理系统 -->
									<div class="layui-col-md12">
										<div class="layui-card">
											<div class="layui-card-header" style="font-size: larger;">数据概览</div>
											<img src="../static/img/1.PNG">
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<div class="layui-footer" style="text-align:center;">
	<!-- 底部固定区域 -->
</div>
</div>
<script src="../static/layui/layui.js"></script>
<script src="../static/js/jquery-3.3.1.min.js" charset="utf-8"></script>
<script>
    $(function() {
        $('#current_admin').html(sessionStorage.getItem('adminName'));
    });

    layui.use(['element', 'layer'], function() {
        var element = layui.element; // nav 菜单
        var layer = layui.layer;
        // 配置tab实践在下面无法获取到菜单元素
        $('.site-demo-active').on('click', function() {
            var dataid = $(this);
            //这时会判断右侧.layui-tab-title属性下的有lay-id属性的li的数目，即已经打开的tab项数目
            if ($(".layui-tab-title li[lay-id]").length <= 0) {
                //如果比零小，则直接打开新的tab项
                active.tabAdd(dataid.attr("data-url"), dataid.attr("data-id"), dataid.attr("data-title"));
            } else {
                //否则判断该tab项是否以及存在
                var isData = false; //初始化一个标志，为false说明未打开该tab项 为true则说明已有
                $.each($(".layui-tab-title li[lay-id]"), function() {
                    //如果点击左侧菜单栏所传入的id 在右侧tab项中的lay-id属性可以找到，则说明该tab项已经打开
                    if ($(this).attr("lay-id") == dataid.attr("data-id")) {
                        isData = true;
                    }
                })
                if (isData == false) {
                    //标志为false 新增一个tab项
                    active.tabAdd(dataid.attr("data-url"), dataid.attr("data-id"), dataid.attr("data-title"));
                }
            }
            //最后不管是否新增tab，最后都转到要打开的选项页面上
            active.tabChange(dataid.attr("data-id"));
        });

        var active = {
            //在这里给active绑定几项事件，后面可通过active调用这些事件
            tabAdd: function(url, id, name) {
                //新增一个Tab项 传入三个参数，分别对应其标题，tab页面的地址，还有一个规定的id，是标签中data-id的属性值
                //关于tabAdd的方法所传入的参数可看layui的开发文档中基础方法部分
                element.tabAdd('demo', {
                    title: name,
                    content: '<iframe data-frameid="' + id + '" scrolling="auto" frameborder="0" src="' + url +
                        '" style="width:100%;height:99%;"></iframe>',
                    id: id //规定好的id
                })
                FrameWH(); //计算ifram层的大小
            },
            tabChange: function(id) {
                //切换到指定Tab项
                element.tabChange('demo', id); //根据传入的id传入到指定的tab项
            },
            tabDelete: function(id) {
                element.tabDelete("demo", id); //删除
            }
        };

        function FrameWH() {
            var h = $(window).height();
            $("iframe").css("height", h + "px");
        }
    });
</script>
</body>
</html>
